<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home</title>
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>
    <header>
        <div class="container header-content">
            <a href="/" class="logo-container"><img src="/Image/Logo.jpg" alt="Logo của bạn" class="logo"></a>
            <nav>
                <ul>
                    <li><a href="/products">Sản Phẩm</a></li>
                    <li><a href="/customers">Khách Hàng</a></li>
                    <li><a href="/exports">Đơn Hàng</a></li>
                    <li><a href="/inventory">Kho Hàng</a></li>
                    <li><a href="/reports">Báo Cáo</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main>
        <div class="container">
            <section class="dashboard">
                <h2>Tổng Quan</h2>
                <div class="dashboard-items">
                    <div class="item">
                        <h3>Tổng Sản Phẩm</h3>
                        <p><%= totalProducts %></p>
                    </div>
                    <div class="item">
                        <h3>Tổng Khách Hàng</h3>
                        <p><%= totalCustomers %></p>
                    </div>
                    <div class="item">
                        <h3>Tổng Loại Sản Phẩm</h3>
                        <p><%= totalProductTypes %></p>
                    </div>
                    <div class="item">
                        <h3>Tổng Loại Khách Hàng</h3>
                        <p><%= totalCustomerTypes %></p>
                    </div>
                    <div class="item">
                        <h3>Tổng Tồn Kho</h3>
                        <p><%= totalInventory %></p>
                    </div>
                    <div class="item">
                        <h3>Tổng Đơn Hàng</h3>
                        <p><%= totalExports %></p>
                    </div>
                </div>
            </section>

            <section class="latest-orders">
                <h2>Top 10 Đơn Hàng Gần Đây</h2>
                <table id="exportsTable">
                    <thead>
                        <tr>
                            <th>Mã Hóa Đơn</th>
                            <th>Khách Hàng</th>
                            <th>Tổng Số Sản Phẩm</th>
                            <th>Tổng Số lượng</th>
                            <th>Tổng Tiền</th>
                            <th>Ngày Đặt</th>
                        </tr>
                    </thead>
                    <tbody>
                        <% latestExports.forEach(exportItem => { %>
                            <tr>
                                <td><%= exportItem.invoice_id %></td>
                                <td><%= exportItem.customer_name %></td>
                                <td><%= exportItem.so_san_pham %></td>
                                <td><%= exportItem.tong_so_luong %></td>
                                <td><%= exportItem.order_total %></td>
                                <td><%= new Date(exportItem.invoice_date).toLocaleDateString() %></td>
                            </tr>
                        <% }); %>
                    </tbody>
                </table>
            </section>

            <section class="customers">
                <h2>Danh Sách Khách Hàng</h2>
                <table id="customersTable">
                    <thead>
                        <tr>
                            <th>Tên Khách Hàng</th>
                            <th>Loại Khách Hàng</th>
                            <th>Email</th>
                            <th>Số Điện Thoại</th>
                            <th>Địa Chỉ</th>
                        </tr>
                    </thead>
                    <tbody>
                        <% customers.forEach(customer => { %>
                            <tr>
                                <td><%= customer.customer_name %></td>
                                <td><%= customer.customer_type_name %></td>
                                <td><%= customer.email %></td>
                                <td><%= customer.phone %></td>
                                <td><%= customer.address %></td>
                            </tr>
                        <% }); %>
                    </tbody>
                </table>
            </section>
        </div>
    </main>
    <script src="/Routes/index.js"></script>
</body>
<footer>
    <div class="container">
        <p>&copy; 2025 Quản Lý Bán Hàng</p>
    </div>
</footer>
</html>